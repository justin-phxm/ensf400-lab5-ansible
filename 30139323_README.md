# Running the Assignment

This guide will walk you through the steps required to set up and run the two parts of the assignment. Each part has specific steps to follow to ensure everything works as expected.

## Part 1: Running App Containers and Load Balancer

### Step 1: Start Containers

First, make sure your containers for the 3 applications and the load balancer are running. You can build and start them with Docker Compose:

<code class="!whitespace-pre hljs language-bash">docker compose up --build
</code>

### Step 2: Configure Ansible

Set the Ansible configuration environment variable to point to your configuration file:

<code class="!whitespace-pre hljs language-bash">export ANSIBLE_CONFIG=$(pwd)/ansible.cfg
</code>

### Step 3: Deploy Node.js Servers

Execute the Ansible playbook to install and run the Node.js server on the 3 application containers:

<code class="!whitespace-pre hljs language-bash">ansible-playbook hello.yml
</code>

### Step 4: Verify Load Balancer Functionality

Ensure the load balancer is correctly distributing traffic:

<code class="!whitespace-pre hljs language-bash">curl http://0.0.0.0
</code>

## Part 2: Running Python Scripts

### Step 1: Ensure Containers Are Running

Make sure your containers for the 3 applications and the load balancer are up and running. Use Docker Compose in detached mode:
<code class="!whitespace-pre hljs language-bash">docker compose up --build -d
</code>

### Step 2: Set Ansible Configuration

Export the Ansible configuration environment variable:

<code class="!whitespace-pre hljs language-bash">export ANSIBLE_CONFIG=$(pwd)/ansible.cfg
</code>

### Step 3: Deploy Node.js Servers

Run the Ansible playbook to set up the Node.js servers on the application containers:

<code class="!whitespace-pre hljs language-bash">ansible-playbook hello.yml
</code>

### Step 4: Load Inventory and Run Playbook

Execute the Python scripts to interact with the Ansible inventory and run additional playbooks as required:

<code class="!whitespace-pre hljs language-bash">python3 ./load.inventory.py
python3 ./run.playbook.py
</code>

### Cleanup

When you're finished, bring down the Docker containers to clean up your environment:

<code class="!whitespace-pre hljs language-bash">docker compose down</code>
